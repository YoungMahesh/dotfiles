# Define names for default workspaces for which we configure key bindings later on.
# We use variables to avoid repeating the names in multiple places.
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"


# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10

# Switch to workspace 2	$mod + 2
# Move focused window to 2	$mod + Shift + 2

# A more modern dmenu replacement is rofi:
# bindcode $mod+40 exec "rofi -modi drun,run -show drun"
# There also is i3-dmenu-desktop which only displays applications shipping a
# .desktop file. It is a wrapper around dmenu, so you need that installed.
# bindcode $mod+40 exec --no-startup-id i3-dmenu-desktop

# switch to workspace
bindsym $mod+1 workspace number $ws1; exec --no-startup-id pgrep kitty || $term
bindsym $mod+2 exec --no-startup-id ~/.config/i3/conf.d/workspaces/ws2_open_chromium.sh
#bindsym $mod+3 workspace number $ws3; exec --no-startup-id pgrep -f chromium || /snap/bin/chromium
# we are using count-of-processes because we are getting one process id on `pgrep -f chromium` even when chromium is not running 
#    this happens only on `exec` command of i3-config, to verify you can run `exec pgrep -f chromium > /home/mahesh/output` and check 'output' file
# pgrep gets 13 ids when chromium is running; 1 when it is not running
#bindsym $mod+3 workspace number $ws3; exec --no-startup-id sh -c '[ "$(pgrep -fc chromium)" -lt 5 ] && /snap/bin/chromium'
bindsym $mod+3 exec --no-startup-id ~/.config/i3/conf.d/workspaces/ws3_open_chromium.sh
# launch telegram whenever you visit workspace 4
bindsym $mod+4 workspace number $ws4; exec --no-startup-id pgrep telegram || telegram-desktop
#bindsym $mod+5 workspace number $ws5; exec --no-startup-id pgrep remnote > /home/mahesh/rem 
bindsym $mod+5 workspace number $ws5; exec --no-startup-id pgrep remnote || remnote
bindsym $mod+6 workspace number $ws6; exec --no-startup-id pgrep anytype || anytype
#bindsym $mod+7 workspace number $ws7; exec --no-startup-id pgrep obsidian || obsidian
bindsym $mod+7 workspace number $ws7
# if less than 3 processes of gnome are running, execute `gnome`, there are 2 processes when gnome-ui is not running else 4
#bindsym $mod+8 workspace number $ws8; exec --no-startup-id sh -c '[ "$(pgrep -c gnome)" -lt 3 ] && gnome'
#bindsym $mod+8 exec --no-startup-id ~/.config/i3/open_chromium_ws8.sh
bindsym $mod+8 workspace number $ws8; exec --no-startup-id pgrep obsidian || obsidian 
bindsym $mod+9 exec --no-startup-id ~/.config/i3/conf.d/workspaces/ws9_open_chromium.sh
bindsym $mod+0 workspace number $ws10
# bindsym $mod+0 workspace number $ws10; exec --no-startup-id pgrep obsidian || obsidian "obsidian://open?vault=principles"

# how to move to left window, right window

# ------------------------ open app in specific workspace -------------------
# get window class of app, execute:
# xprop | grep WM_CLASS
#    xprop is listener
# 2. launch app (if app is not already running)
# 3. click on app window using mouse; this will print window-class under xprop-command in step 1


assign [class="kitty"] 1
assign [class="firefox_firefox"] 2
#assign [class="Chromium"] 3
assign [class="Brave"] 3
assign [class="protonvpn-app"] 3
assign [class="TelegramDesktop"] 4
assign [class="Signal"] 4
assign [class="RemNote"] 5
assign [class="anytype"] 6
#assign [class="gnome-control-center"] 8
assign [class="Windsurf"] 10
assign [class="Code"] 10
assign [class="dev.zed.Zed"] 10
#assign [class="obsidian"] 10

# open some apps in fullscreen mode 
# for_window [class=".*"] fullscreen enable   # if you enable fullscreen for all apps then dialog/prompt window will also open as fullscreen
#for_window [class="TelegramDesktop"] fullscreen enable
#for_window [class="RemNote"] fullscreen enable
#

# -----------------------------------------------------------------------
# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# move tiling windows via drag & drop by left-clicking into the title bar,
# or left-clicking anywhere into the window while holding the floating modifier.
tiling_drag modifier titlebar


# change container layout (stacked, tabbed, toggle split)
# set default layout as tabbed
workspace_layout tabbed
#bindsym $mod+s layout stacking
bindsym $mod+m layout tabbed
bindsym $mod+semicolon layout toggle split
# enter fullscreen mode for the focused container
#bindsym $mod+m fullscreen toggle

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+a focus parent

# focus the child container
#bindsym $mod+d focus child



